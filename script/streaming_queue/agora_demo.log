nohup: ignoring input
=== Loading metrics.py ===
=== Loading metrics.py ===
ℹ️  Real AgentNetwork QA System Demo with Agora support
============================================================
ℹ️  Initializing real AgentNetwork and Agents...
[DEBUG] Trying to create Toolformer with model: gpt-4o
[WARN] Camel not available, falling back to LangChainToolformer again...
🚀 Starting Agora Server for Coordinator-1 on localhost:9998
📡 Agora ReceiverServer starting on localhost:9998
 * Serving Flask app 'agora.receiver.server'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:9998
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [18/Jul/2025 23:06:53] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:06:53] "GET /.well-known/agent.json HTTP/1.1" 200 -
Registered agent: Coordinator-1
✅ Coordinator-1 created and registered to AgentNetwork
[QAAgent] Initialized with Core LLM: gpt-4o
[DEBUG] Trying to create Toolformer with model: gpt-4o
[WARN] Camel not available, falling back to LangChainToolformer again...
🚀 Starting Agora Server for Worker-1 on localhost:10001
📡 Agora ReceiverServer starting on localhost:10001
 * Serving Flask app 'agora.receiver.server'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:10001
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [18/Jul/2025 23:06:55] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:06:55] "GET /.well-known/agent.json HTTP/1.1" 200 -
Registered agent: Worker-1
✅ Worker-1 created and registered to AgentNetwork (port: 10001)
[QAAgent] Initialized with Core LLM: gpt-4o
[DEBUG] Trying to create Toolformer with model: gpt-4o
[WARN] Camel not available, falling back to LangChainToolformer again...
🚀 Starting Agora Server for Worker-2 on localhost:10002
📡 Agora ReceiverServer starting on localhost:10002
 * Serving Flask app 'agora.receiver.server'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:10002
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [18/Jul/2025 23:06:57] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:06:57] "GET /.well-known/agent.json HTTP/1.1" 200 -
Registered agent: Worker-2
✅ Worker-2 created and registered to AgentNetwork (port: 10002)
[QAAgent] Initialized with Core LLM: gpt-4o
[DEBUG] Trying to create Toolformer with model: gpt-4o
[WARN] Camel not available, falling back to LangChainToolformer again...
🚀 Starting Agora Server for Worker-3 on localhost:10003
📡 Agora ReceiverServer starting on localhost:10003
 * Serving Flask app 'agora.receiver.server'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:10003
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [18/Jul/2025 23:06:59] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:06:59] "GET /.well-known/agent.json HTTP/1.1" 200 -
Registered agent: Worker-3
✅ Worker-3 created and registered to AgentNetwork (port: 10003)
[QAAgent] Initialized with Core LLM: gpt-4o
[DEBUG] Trying to create Toolformer with model: gpt-4o
[WARN] Camel not available, falling back to LangChainToolformer again...
🚀 Starting Agora Server for Worker-4 on localhost:10004
📡 Agora ReceiverServer starting on localhost:10004
 * Serving Flask app 'agora.receiver.server'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:10004
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:01] "GET /.well-known/agent.json HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:02] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:02] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:02] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:02] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:02] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:05] "POST / HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:08] "POST / HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:11] "POST / HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:16] "POST / HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:19] "POST / HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:19] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:19] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:19] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:19] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [18/Jul/2025 23:07:19] "GET /health HTTP/1.1" 200 -
Registered agent: Worker-4
✅ Worker-4 created and registered to AgentNetwork (port: 10004)
ℹ️  === Setting up Network Topology ===
✅ Setup star topology with center node: Coordinator-1
Connected: Worker-1 → Coordinator-1
Connected: Coordinator-1 → Worker-1
Connected: Worker-2 → Coordinator-1
Connected: Coordinator-1 → Worker-2
Connected: Worker-3 → Coordinator-1
Connected: Coordinator-1 → Worker-3
Connected: Worker-4 → Coordinator-1
Connected: Coordinator-1 → Worker-4
🔧 Current topology connection count: 8
ℹ️  Detailed connection information:
   Coordinator-1 → ['Worker-4', 'Worker-2', 'Worker-1', 'Worker-3']
   Worker-1 → ['Coordinator-1']
   Worker-2 → ['Coordinator-1']
   Worker-3 → ['Coordinator-1']
   Worker-4 → ['Coordinator-1']
ℹ️  === Health Check ===
🔧 Health check results (5/5 healthy):
✅ Coordinator-1: Healthy
✅ Worker-1: Healthy
✅ Worker-2: Healthy
✅ Worker-3: Healthy
✅ Worker-4: Healthy
ℹ️  Checking coordinator status...

✅ Coordinator status checked
ℹ️  === Starting Q&A Processing ===
ℹ️  Starting dispatch process...
   Processing question 1/4: What's the weather like in New York today?...

✅ Question 1 processed successfully
🔧 Response: {'body': 'There was an issue retrieving the weather data for New York today. Please try again later ...
   Processing question 2/4: I need to book a hotel for July 20th for 2 guests...

✅ Question 2 processed successfully
🔧 Response: {'body': "It seems there was an issue with processing your hotel booking request. Please try again l...
   Processing question 3/4: Search for current AI trends...

✅ Question 3 processed successfully
🔧 Response: {'body': 'I encountered an error while trying to retrieve the current AI trends. Please check back l...
   Processing question 4/4: Hello, how can you assist me?...

✅ Question 4 processed successfully
🔧 Response: {'body': "Hello! I can assist you with a variety of tasks. Here are some things I can do for you:\n\...
ℹ️  Results are handled and saved by coordinator internally
✅ Demo completed!
🔧 Total time: 13.75 seconds
🔧 Successfully processed: 4/4 questions
ℹ️  === Health Check ===
🔧 Health check results (5/5 healthy):
✅ Coordinator-1: Healthy
✅ Worker-1: Healthy
✅ Worker-2: Healthy
✅ Worker-3: Healthy
✅ Worker-4: Healthy
ℹ️  Network metrics:
   Agent count: 5
   Connection count: 8
🔧 Cleaning up resources...
🛑 Shutdown signal received for Agora Server Coordinator-1
🔚 Agora Server for Coordinator-1 stopped
🛑 Shutdown signal received for Agora Server Worker-1
🔚 Agora Server for Worker-1 stopped
🛑 Shutdown signal received for Agora Server Worker-2
🔚 Agora Server for Worker-2 stopped
🛑 Shutdown signal received for Agora Server Worker-3
🔚 Agora Server for Worker-3 stopped
🛑 Shutdown signal received for Agora Server Worker-4
🔚 Agora Server for Worker-4 stopped
✅ Resource cleanup completed
